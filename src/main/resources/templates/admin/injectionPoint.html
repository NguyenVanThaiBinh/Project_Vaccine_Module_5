<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:insert="/layout/header::header">

</head>
<body class="boxed-layout">

    <div class="container-fluid page-body-wrapper">
        <a href="/logout"><button class="btn btn-primary buttonout">Đăng xuất</button></a>
        <div class="row row-offcanvas row-offcanvas-right">
            <footer th:replace="/layout/footer::footer">
            </footer>
            <!-- partial -->
            <div class="content-wrapper">
                <div class="table-responsive">
                    <table class="table mt-3 border-top" id="destinations">
                        <tr>
                            <th>ID</th>
                            <th>Tên</th>
                            <th>Bắt đầu</th>
                            <th>Kết thúc</th>
                            <th>Số lượng</th>
                            <th>Tên kho vaccine</th>
                            <th></th>
                        </tr>
                        <th:block th:each="u : ${destination}">
                            <tr th:id="${u.id+'-row'}">
                                <td th:text="${u.id}"></td>
                                <td th:text="${u.destination_name}"></td>
                                <td th:text="${u.date_start}"></td>
                                <td th:text="${u.date_end}"></td>
                                <td th:text="${u.people_perHour}"></td>
                                <td th:text="${u.warehouseVaccine.getWarehouseName()}"></td>
                                <td>
                                    <button class="btn btn-primary">Edit</button>
                                    <th:block th:if="${u.date_end.trim().split('-')[2]+'-'+u.date_end.split('-')[1]+'-'+u.date_end.split('-')[0]}>${dateNow} and
                                                        ${u.date_start.trim().split('-')[2]+'-'+u.date_start.split('-')[1]+'-'+u.date_start.split('-')[0]}<${dateNow}">
                                        <button class="btn btn-danger" disabled th:onclick="'javascript:getDelete('+${u.id}+')'">Delete</button>
                                    </th:block>
                                    <th:block th:if="${u.date_end.trim().split('-')[2]+'-'+u.date_end.split('-')[1]+'-'+u.date_end.split('-')[0]}<${dateNow}">
                                        <button class="btn btn-danger" th:onclick="'javascript:getDelete('+${u.id}+')'">Delete</button>
                                    </th:block>
                                </td>
                            </tr>
                        </th:block>
                        <button class="btn btn-primary" style="font-weight: bold;font-size: 18px;"
                                data-toggle="modal" href="#myModal" >
                            <i class="fas fa-plus-circle"></i>
                            Tạo Mới Địa Điểm
                        </button>
                    </table>
                </div>
                <footer class="footer">
                    <div class="container-fluid clearfix">
                                <span class="text-muted d-block text-center text-sm-left d-sm-inline-block">
                                    Copyright © 2017 <a href="#">Vaccine Vietnam</a>.
                                    All rights reserved.</span>
                        <span class="float-none float-sm-right d-block mt-1 mt-sm-0 text-center">
                                    Hand-crafted & made with
                                    <i class="mdi mdi-heart text-danger"></i>
                                </span>
                    </div>
                </footer>
            </div>
        </div>
        <div class="modal fade" id="myModal">
            <div class="modal-dialog">
                <div class="modal-content">
                    <!-- Modal Header -->
                    <div class="modal-header">
                        <h4 class="modal-title">Modal Heading</h4>
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                    </div>
                    <!-- Modal body -->
                    <div class="modal-body">
                        <form id="editForm">
                            <div  id="destination_validate" >
                                <div class="form-group">
                                    <label>Tên địa điểm</label>
                                    <input type="text" class="form-control" id="nameDestination">
                                </div>
                                <div class="form-group">
                                    <label>Thời gian bắt đầu</label>
                                    <input type="date" class="form-control" id="date-start">
                                </div>
                                <div class="form-group">
                                    <label>Thời gian kết thúc</label>
                                    <input type="date" class="form-control" id="date-end">
                                </div>
                                <div class="form-group">
                                    <label>Số mũi tiêm/ giờ</label>
                                    <input type="number" class="form-control" id="people_perHour">
                                </div>
                                <div class="form-group">
                                    <label for="wareHouseVaccine">Kho Vaccine</label>
                                    <select class="select-group col-md-12" style="height: 37px;" id="wareHouseVaccine"
                                            th:object="${warehouses}">
                                        <option th:each="p : ${warehouses}" th:value="${p.id}" th:text="${p.getWarehouseName()}"></option>
                                    </select>
                                </div>
                                <!-- Modal footer -->
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-primary create" onclick="create()">Tạo mới</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
<!--test-->
<!--    Model Bootstrap-->
<!--<div class="modal fade" id="createModel">-->
<!--    <div class="modal-dialog">-->
<!--        <div class="modal-content">-->
<!--            &lt;!&ndash; Modal Header &ndash;&gt;-->
<!--            <div class="modal-header">-->
<!--                <h4 class="modal-title">Tạo mới địa điểm </h4>-->
<!--            </div>-->
<!--            &lt;!&ndash; Modal body &ndash;&gt;-->
<!--            <div class=" modal-body">-->
<!--                <div  id="destination_validate" >-->
<!--                    <div class="form-group">-->
<!--                        <label>Tên địa điểm</label>-->
<!--                        <input type="text" class="form-control" id="nameDestination">-->
<!--                    </div>-->
<!--                    <div class="form-group">-->
<!--                        <label>Thời gian bắt đầu</label>-->
<!--                        <input type="date" class="form-control" id="date-start">-->
<!--                    </div>-->
<!--                    <div class="form-group">-->
<!--                        <label>Thời gian kết thúc</label>-->
<!--                        <input type="date" class="form-control" id="date-end">-->
<!--                    </div>-->
<!--                    <div class="form-group">-->
<!--                        <label>Số mũi tiêm/ giờ</label>-->
<!--                        <input type="number" class="form-control" id="people_perHour">-->
<!--                    </div>-->
<!--                    <div class="form-group">-->
<!--                        <label for="wareHouseVaccine">Kho Vaccine</label>-->
<!--                        <select class="select-group col-md-12" style="height: 37px;" id="wareHouseVaccine"-->
<!--                                th:object="${warehouses}">-->
<!--                            <option th:each="p : ${warehouses}" th:value="${p.id}" th:text="${p.getWarehouseName()}"></option>-->
<!--                        </select>-->
<!--                    </div>-->
<!--                    &lt;!&ndash; Modal footer &ndash;&gt;-->
<!--                    <div class="modal-footer">-->
<!--                        <button class="btn btn-primary create" onclick="create()">Tạo mới</button>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<!--</div>-->



<script src="/webjars/jquery/3.5.1/jquery.min.js"></script>
<script src="/webjars/bootstrap/4.6.0/js/bootstrap.min.js"></script>
<script th:src="@{/js/admin/destination_vaccine.js}"></script>
<script th:src="@{/js/admin/sweetalert2.min.js}"></script>
</body>
</html>
